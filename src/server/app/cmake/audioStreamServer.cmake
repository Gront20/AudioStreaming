# ==================================================================================================
# =========================================== COMPONENTS ===========================================
# ==================================================================================================

set(QAPPLICATION_CLASS QApplication)

include(${CMAKE_CURRENT_LIST_DIR}/include.cmake)
add_components(Core VersionInfo Project)

# ==================================================================================================
# =========================================== LIBRARIES ============================================
# ==================================================================================================

_add_library(Ffmpeg)
_add_library(PortAudio)
_add_library(Opus)

# ==================================================================================================
# ========================================= CONFIGURATION ==========================================
# ==================================================================================================

set_cpp_version(17)
set_qt_min_version(5.15)
add_qt_components(Core Network Gui Widgets Charts)

init()

# ==================================================================================================
# ========================================= PROJECT FILES ==========================================
# ==================================================================================================

# main
src_begin(../source "App") # App-gui start
add_source(main)
add_class(baseAppCore)
src_end() # App-gui end

# GUI
src_begin(../source/frontend "App") # App-gui start
add_gui_class(serverWindow)
src_end() # App-gui end

# Backend
# ====================================================================

# Audio
src_begin(../source/backend/AudioProcessing "App") # App-gui start
add_class(audiohandler)
add_class(audiocore)
src_end() # App-backend-audio end

# Network
src_begin(../source/backend/Network "App") # App-gui start
add_class(networkhandler)
add_class(networkcore)
src_end() # App-backend-network end

## Common
src_begin(../source/common "App") # start
add_class(defines)
src_set_dir()

src_end() # end

# ==================================================================================================
# =========================================== RESOURCES ============================================
# ==================================================================================================

src_begin(.. "App")
add_resource(images)
add_resource(styles)
src_end()

# ==================================================================================================
# ============================================= BUILD ==============================================
# ==================================================================================================

init_qt_gui_build()
init_build()
